<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Math Champs - Master Template System</title>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Noto+Sans:wght@400;600;700&display=swap" rel="stylesheet" />

    <style>
      /* --- GLOBAL VARIABLES & RESET --- */
      :root {
        --primary-text: #333333;
        --bg-page: #525659;
        /* Color Palette */
        --theme-blue: #3b82f6; --theme-green: #22c55e;
        --theme-orange: #f97316; --theme-purple: #a855f7;
        --theme-red: #ef4444; --theme-gray: #e5e7eb;
      }

      body {
        font-family: "Noto Sans", sans-serif;
        font-size: 10pt; /* Standard worksheet font size */
        background-color: var(--bg-page);
        margin: 0; padding: 20px;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }

      /* --- PAGE LAYOUT SYSTEM (DO NOT EDIT) --- */
      #output-container { display: flex; flex-direction: column; align-items: center; gap: 30px; }
      
      .page {
        background: white; width: 210mm; height: 297mm; /* A4 Fixed */
        padding: 10mm 12mm; position: relative;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        display: flex; flex-direction: column;
        overflow: hidden; box-sizing: border-box;
      }

      /* UPDATED HEADER STYLE */
      .page-header { width: 100%; border-bottom: 3px solid #000; padding-bottom: 8px; margin-bottom: 15px; flex-shrink: 0; }
      .math-champs-header { display: flex; justify-content: space-between; align-items: center; }
      
      /* Logo Size 60px */
      .header-logo { height: 60px; object-fit: contain; }
      
      .header-right { text-align: right; font-family: "Montserrat", sans-serif; }
      
      /* Restored Font Sizes */
      .header-level { font-size: 14px; font-weight: 800; color: #000; text-transform: uppercase; letter-spacing: 0.5px; }
      .header-topic { font-size: 10px; font-weight: 600; color: #000; margin-top: 2px; }
      .header-skill { font-size: 10px; font-weight: 500; color: #000; }
      .header-code { font-size: 10px; font-weight: 500; color: #000; margin-top: 2px; }

      .page-footer {
        width: 100%; border-top: 1px solid #ccc; padding-top: 5px; margin-top: auto; 
        font-size: 8pt; color: #888; flex-shrink: 0;
      }

      .page-content { flex-grow: 1; display: flex; flex-direction: column; gap: 15px; width: 100%; }

      /* --- CONTENT COMPONENT STYLES --- */
      .content-block { break-inside: avoid; width: 100%; } /* Wrapper wajib */

      .section-label {
        font-family: "Montserrat", sans-serif; font-size: 1rem; font-weight: 800; 
        text-transform: uppercase; color: #1e3a8a; border-bottom: 2px solid #e5e7eb; 
        padding-bottom: 2px; margin-bottom: 5px; margin-top: 5px;
      }

      .soal-item {
        background-color: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px;
        display: flex; flex-direction: column; gap: 8px;
        /* Ensure visual content fits nicely */
      }

      .visual-box {
        background-color: white; border: 1px solid #e5e7eb; border-radius: 8px;
        padding: 15px; display: flex; flex-direction: column; align-items: center; gap: 10px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        overflow: visible;
      }

      .choice-container { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 5px; justify-content: flex-start; }
      .choice-item { display: flex; align-items: center; gap: 6px; font-size: 0.9rem; font-weight: 600; cursor: pointer; }
      .choice-box { width: 16px; height: 16px; border: 2px solid #666; border-radius: 50%; display: inline-block; background: white; }

      /* Concept Box */
      .concept-box {
        background-color: #eff6ff; border-left: 4px solid #3b82f6;
        padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem;
      }
      .instruction-box { 
         background-color: #fefce8; border: 2px solid #fde047; border-radius: 0.75rem; 
         padding: 1.5rem; text-align: center; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); 
         margin-bottom: 1.5rem;
      }

      /* Grid for Question Layout (2 Cols) */
      .grid-2-cols {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        width: 100%;
      }
      /* Fallback for print logic if grid fails in block detection */
      .grid-wrapper {
        display: flex; gap: 1.5rem; width: 100%;
      }
      .grid-item { flex: 1; }

      /* --- MATH VISUALS UTILITIES (Bar Models, etc.) --- */
      .bar-container {
        display: flex; width: 100%; max-width: 300px; height: 30px;
        border: 2px solid #333; border-radius: 4px; overflow: hidden;
        position: relative;
      }
      .bar-part {
        height: 100%; display: flex; align-items: center; justify-content: center;
        font-weight: bold; font-size: 0.8rem; color: white;
        border-right: 2px solid white;
      }
      .bar-part:last-child { border-right: none; }
      
      .brace-label {
        width: 100%; max-width: 300px;
        display: flex; flex-direction: column; align-items: center;
        margin-top: 2px;
      }
      .brace-visual {
        width: 100%; height: 8px;
        border-bottom: 2px solid #666; border-left: 2px solid #666; border-right: 2px solid #666;
        border-radius: 0 0 4px 4px; position: relative;
      }
      .brace-visual::after {
        content: ""; position: absolute; bottom: -4px; left: 50%; transform: translateX(-50%);
        width: 2px; height: 6px; background-color: #666;
      }
      .total-text { font-weight: bold; color: #1e3a8a; margin-top: 4px; font-size: 0.9rem; }

      /* Stacked Bar for Comparison (UPDATED: Ghost Box for Difference) */
      .stacked-bar-container {
        display: flex; flex-direction: column; gap: 8px; align-items: flex-start; width: 100%; max-width: 300px;
      }
      .stacked-row { display: flex; align-items: center; width: 100%; }
      .bar-label { width: 50px; font-size: 0.75rem; font-weight: bold; color: #555; }
      
      .bar-fill { 
         height: 24px; border-radius: 0 0 0 0; 
         display: flex; align-items: center; justify-content: center; 
         color: white; font-size: 0.75rem; font-weight: bold; 
         border: 1px solid rgba(0,0,0,0.1);
      }
      .bar-fill:first-child { border-radius: 4px 0 0 4px; }
      
      /* New "Ghost Box" for Difference */
      .diff-gap {
        flex-grow: 1;
        height: 24px;
        margin-left: 2px;
        border: 2px dashed #ef4444; /* Red dashed border */
        border-radius: 0 4px 4px 0;
        display: flex; align-items: center; justify-content: center;
        background-color: #fef2f2; /* Light red fill */
        color: #dc2626;
        font-size: 0.75rem;
        font-weight: bold;
      }

      /* Colors */
      .bg-blue { background-color: #3b82f6; }
      .bg-green { background-color: #22c55e; }
      .bg-orange { background-color: #f97316; } 
      .bg-purple { background-color: #a855f7; }
      .bg-red { background-color: #ef4444; }

      .price-tag {
        background-color: #fef08a; border: 1px solid #facc15; border-radius: 4px;
        padding: 2px 6px; font-size: 10px; font-weight: bold; color: #854d0e;
        display: inline-block; transform: rotate(-5deg); margin: 0 4px;
      }

      /* --- PRINT CONFIGURATION --- */
      @media print {
        @page { size: A4; margin: 0; }
        body { margin: 0; padding: 0; background: white; }
        #output-container { gap: 0; }
        .page { margin: 0; page-break-after: always; box-shadow: none; break-after: page; }
        .page:last-child { page-break-after: auto; break-after: auto; }
        #raw-content { display: none !important; }
        
        /* Force background colors */
        .bg-blue { background-color: #3b82f6 !important; }
        .bg-green { background-color: #22c55e !important; }
        .bg-orange { background-color: #f97316 !important; } 
        .bg-purple { background-color: #a855f7 !important; }
        .bg-red { background-color: #ef4444 !important; }
        .bg-blue-50 { background-color: #eff6ff !important; }
        .bg-green-50 { background-color: #f0fdf4 !important; }
        .bg-yellow-50 { background-color: #fefce8 !important; }
        .bg-purple-50 { background-color: #faf5ff !important; }
        .bg-orange-50 { background-color: #fff7ed !important; }
        
        /* Ensure ghost box prints correctly */
        .diff-gap { 
           border: 2px dashed #ef4444 !important;
           background-color: #fef2f2 !important;
           -webkit-print-color-adjust: exact;
        }
      }
    </style>
  </head>
  <body>

    <!-- 1. SOURCE CONTENT (Hidden) -->
    <div id="raw-content" style="display: none;">
        
        <!-- --- Start Editing Content Here --- -->

        <!-- Instruction Block -->
        <div class="content-block instruction-box">
            <h1 class="text-2xl font-bold uppercase tracking-wide text-gray-800 font-montserrat mb-2">
                Decimal Subtraction Word Problems
            </h1>
            <p class="text-base text-gray-600 font-medium">
                Use <b>Bar Models</b> to find the remainder, difference, or missing part.
            </p>
        </div>

        <!-- Concept Block -->
        <div class="content-block concept-box flex flex-col items-start gap-4 shadow-md border border-blue-200">
            <div class="w-full border-b border-blue-200 pb-2 mb-2">
                <h3 class="font-extrabold text-lg text-blue-700 mb-1">TWO TYPES OF SUBTRACTION MODELS</h3>
            </div>
            <div class="w-full bg-white p-4 rounded-lg border border-gray-300 grid grid-cols-2 gap-4">
                
                <!-- Model 1: Part-Whole (Sisa) -->
                <div class="flex flex-col items-center">
                    <div class="text-xs font-bold text-gray-500 mb-2">1. Finding the Remainder (Part)</div>
                    <div class="text-[10px] text-gray-500 italic mb-2">Total is known, part is taken.</div>
                    <div class="bar-container w-full">
                        <div class="bar-part bg-blue" style="width: 40%;">Taken</div>
                        <div class="bar-part bg-gray" style="width: 60%; background-color: #e5e7eb; color: #555;">Left ?</div>
                    </div>
                    <div class="text-xs font-bold mt-1 text-blue-800">Total - Part = Remainder</div>
                </div>

                <!-- Model 2: Comparison (Selisih) -->
                <div class="flex flex-col items-center">
                    <div class="text-xs font-bold text-gray-500 mb-2">2. Finding the Difference</div>
                    <div class="text-[10px] text-gray-500 italic mb-2">Comparing two items.</div>
                    <div class="stacked-bar-container">
                        <div class="stacked-row">
                            <div class="bar-label">A</div>
                            <div class="bar-fill bg-green w-[80%] rounded-r">Greater</div>
                        </div>
                        <div class="stacked-row">
                            <div class="bar-label">B</div>
                            <div class="bar-fill bg-orange w-[50%]">Smaller</div>
                            <!-- Updated Ghost Box for Difference -->
                            <div class="diff-gap">Diff?</div>
                        </div>
                    </div>
                    <div class="text-xs font-bold mt-1 text-green-800">Greater - Smaller = Difference</div>
                </div>
            </div>
        </div>

        <!-- Section 1 -->
        <div class="content-block section-label">Practice 1: Finding Remaining Money & Items</div>

        <!-- Q1 & Q2 Row -->
        <div class="content-block grid-wrapper">
            <!-- Q1 (Money Change) -->
            <div class="soal-item grid-item">
                <div class="font-bold mb-2 text-base">1. Shopping Change</div>
                <div class="text-sm text-gray-600 mb-3">
                    Budi has <span class="price-tag">Rp 5.00</span>. He buys a pencil for <span class="price-tag">Rp 1.50</span>.
                    How much money does Budi have left?
                </div>
                <div class="visual-box mb-2 py-4">
                    <div class="bar-container" style="max-width: 250px;">
                        <div class="bar-part bg-red" style="width: 30%;">1.50</div>
                        <div class="bar-part bg-gray" style="width: 70%; background-color: #e5e7eb; color: #555;">?</div>
                    </div>
                    <div class="brace-label" style="max-width: 250px;">
                        <div class="brace-visual"></div>
                        <div class="total-text text-xs">Total 5.00</div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 3.50</label>
                    <label class="choice-item"><div class="choice-box"></div> 4.50</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.50</label>
                </div>
            </div>
            <!-- Q2 (Weight Remaining) -->
            <div class="soal-item grid-item">
                <div class="font-bold mb-2 text-base">2. Flour Left</div>
                <div class="text-sm text-gray-600 mb-3">
                    Mother has <b>2.5 kg</b> of flour.
                    Mother uses <b>1.2 kg</b> to make a cake.
                    How much flour does Mother have left?
                </div>
                <div class="visual-box mb-2 py-4">
                    <div class="bar-container" style="max-width: 250px;">
                        <div class="bar-part bg-orange" style="width: 48%;">1.2</div>
                        <div class="bar-part bg-gray" style="width: 52%; background-color: #e5e7eb; color: #555;">?</div>
                    </div>
                    <div class="brace-label" style="max-width: 250px;">
                        <div class="brace-visual"></div>
                        <div class="total-text text-xs">Total 2.5</div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 1.3 kg</label>
                    <label class="choice-item"><div class="choice-box"></div> 1.2 kg</label>
                    <label class="choice-item"><div class="choice-box"></div> 1.5 kg</label>
                </div>
            </div>
        </div>

        <!-- Section 2 -->
        <div class="content-block section-label">Practice 2: Comparing (Difference)</div>

        <!-- Q3 & Q4 Row -->
        <div class="content-block grid-wrapper">
            <!-- Q3 (Comparison Height) -->
            <div class="soal-item grid-item">
                <div class="font-bold mb-4 text-base">3. Height Difference</div>
                <div class="text-sm text-gray-600 mb-2">
                    Height of Plant A = <b>1.25 m</b>.<br>
                    Height of Plant B = <b>0.95 m</b>.<br>
                    What is the difference in height between the two plants?
                </div>
                <div class="visual-box py-4 bg-white/50">
                    <div class="stacked-bar-container">
                        <div class="stacked-row">
                            <div class="bar-label">A</div>
                            <div class="bar-fill bg-green w-[80%] rounded-r">1.25</div>
                        </div>
                        <div class="stacked-row">
                            <div class="bar-label">B</div>
                            <div class="bar-fill bg-blue w-[60%]">0.95</div>
                            <div class="diff-gap">?</div>
                        </div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 0.30 m</label>
                    <label class="choice-item"><div class="choice-box"></div> 0.35 m</label>
                    <label class="choice-item"><div class="choice-box"></div> 1.30 m</label>
                </div>
            </div>
            <!-- Q4 (Comparison Price) -->
            <div class="soal-item grid-item">
                <div class="font-bold mb-4 text-base">4. Price Difference</div>
                <div class="text-sm text-gray-600 mb-2">
                    Notebook <b>Rp 5.50</b>.<br>
                    Pencil <b>Rp 3.25</b>.<br>
                    What is the price difference between the two?
                </div>
                <div class="visual-box py-4 bg-white/50">
                    <div class="stacked-bar-container">
                        <div class="stacked-row">
                            <div class="bar-label">Book</div>
                            <div class="bar-fill bg-red w-[85%] rounded-r">5.50</div>
                        </div>
                        <div class="stacked-row">
                            <div class="bar-label">Pencil</div>
                            <div class="bar-fill bg-yellow-400 text-yellow-900 w-[50%]">3.25</div>
                            <div class="diff-gap">Diff?</div>
                        </div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 2.25</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.35</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.50</label>
                </div>
            </div>
        </div>

        <!-- Section 3: Logic Challenge -->
        <div class="content-block section-label">Practice 3: Word Problem Challenge</div>

        <!-- Q5 Wide -->
        <div class="content-block soal-item full-width bg-purple-50 border-purple-200" style="border-color: #e9d5ff;">
            <div class="font-bold mb-2 text-base text-purple-900">5. Distance Remaining</div>
            <div class="text-sm mb-4 text-purple-800 leading-relaxed">
                Adi wants to run <b>5.0 km</b>.<br>
                He has run <b>3.2 km</b>.<br>
                How many more km must Adi run?
            </div>
            <div class="visual-box w-full mb-4 bg-white/50 border-purple-200 p-4 flex flex-col items-center">
                <!-- Running Track Line -->
                <div class="w-full max-w-lg h-2 bg-gray-200 relative mt-4 mb-8 rounded">
                    <!-- Start Point -->
                    <div class="absolute -top-3 left-0 w-4 h-4 bg-purple-600 rounded-full border-2 border-white shadow"></div>
                    <div class="absolute -top-7 left-0 text-xs font-bold text-purple-800">Start</div>

                    <!-- Runner Position (3.2 km) -->
                    <div class="absolute -top-3 left-[64%] w-4 h-4 bg-yellow-400 rounded-full border-2 border-white shadow z-10"></div>
                    <div class="absolute top-4 left-[32%] text-xs font-bold text-gray-500">Ran 3.2 km</div>
                    <!-- Path run -->
                    <div class="absolute top-0 left-0 h-full bg-purple-400 rounded-l" style="width: 64%;"></div>
                    <!-- Path remaining --> 
                    <div class="absolute top-0 right-0 h-full bg-gray-300 rounded-r border-t border-b border-dashed border-red-400" style="width: 36%;"></div>

                    <!-- Finish Point (5.0 km) -->
                    <div class="absolute -top-3 right-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow"></div>
                    <div class="absolute -top-7 right-0 text-xs font-bold text-green-800">Target 5.0</div>

                    <!-- Remaining distance label -->
                    <div class="absolute top-4 right-[18%] text-xs font-bold text-red-500">? km more</div>
                </div>
            </div>
            <div class="choice-container justify-center gap-6">
                <label class="choice-item"><div class="choice-box"></div> 1.8 km</label>
                <label class="choice-item"><div class="choice-box"></div> 2.8 km</label>
                <label class="choice-item"><div class="choice-box"></div> 2.2 km</label>
            </div>
        </div>

        <!-- Q6 Wide -->
        <div class="content-block soal-item full-width bg-orange-50 border-orange-200" style="border-color: #fed7aa;">
            <div class="font-bold mb-2 text-base text-orange-900">6. Volume of Water</div>
            <div class="text-sm mb-3 text-orange-800">
                A bucket contains <b>4.5 liters</b> of water.<br>
                Father pours <b>1.8 liters</b> of water out of the bucket.<br>
                How much water is left in the bucket?
            </div>
            <div class="flex justify-center items-center gap-8 mb-4">
                <!-- Bucket Visual -->
                <div class="relative w-24 h-32 border-x-4 border-b-4 border-gray-400 rounded-b-xl bg-white overflow-hidden shadow-sm">
                    <!-- Remaining Water -->
                    <div class="absolute bottom-0 w-full h-[60%] bg-blue-400 opacity-80 flex items-center justify-center text-white text-xs font-bold">
                        Left ?
                    </div>
                    <!-- Poured Out Water Space (Ghost Box) -->
                    <div class="absolute top-0 w-full h-[40%] bg-gray-50 flex items-center justify-center text-red-400 text-[10px] font-bold border-b-2 border-dashed border-red-300">
                        1.8 L (Out)
                    </div>
                </div>
                <!-- Calculation Vertical -->
                <div class="font-mono text-xl text-gray-600 font-bold bg-white p-4 rounded border border-orange-200">
                    <div class="text-right">4.5</div>
                    <div class="text-right border-b-2 border-gray-500 pb-1 mb-1">- 1.8</div>
                    <div class="text-right text-orange-600">?</div>
                </div>
            </div>
            <div class="choice-container justify-center gap-6">
                <label class="choice-item"><div class="choice-box"></div> 2.7 L</label>
                <label class="choice-item"><div class="choice-box"></div> 3.7 L</label>
                <label class="choice-item"><div class="choice-box"></div> 2.3 L</label>
            </div>
        </div>

        <!-- Q7, Q8, Q9, Q10 Rows -->
        <div class="content-block grid-wrapper">
             <!-- Q7 -->
            <div class="soal-item grid-item">
                <div class="font-bold mb-2 text-base">7. Blue Ribbon</div>
                <div class="text-sm text-gray-600 mb-2">
                    Red Ribbon is 1.8 m. Blue Ribbon is 0.5 m shorter than Red Ribbon.
                    What is the length of the Blue Ribbon?
                </div>
                <div class="visual-box py-4 bg-white/50">
                    <div class="stacked-bar-container">
                        <div class="stacked-row">
                            <div class="bar-label">R</div>
                            <div class="bar-fill bg-red w-[80%] rounded-r">1.8</div>
                        </div>
                        <div class="stacked-row">
                            <div class="bar-label">B</div>
                            <div class="bar-fill bg-blue w-[60%]">?</div>
                            <div class="diff-gap">0.5</div>
                        </div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 1.3 m</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.3 m</label>
                </div>
            </div>

             <!-- Q8 -->
             <div class="soal-item grid-item bg-green-50 border-green-200">
                <div class="font-bold mb-2 text-base text-green-900">8. Number Riddle</div>
                <div class="text-sm text-green-800 mb-2">
                    I am a number.<br>
                    If <b>0.5</b> is added to me, I become <b>2.1</b>.<br>
                    What number am I?
                </div>
                <div class="visual-box py-4 bg-white/50 border-green-100">
                    <div class="flex items-center justify-center font-bold text-lg gap-2 text-gray-600">
                        <div class="w-10 h-10 border-2 border-dashed border-green-500 rounded flex items-center justify-center bg-white text-green-700">?</div>
                        <div>+ 0.5 = 2.1</div>
                    </div>
                    <div class="text-xs text-center mt-2 text-gray-500">(Calculate: 2.1 - 0.5)</div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 1.6</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.6</label>
                </div>
            </div>
        </div>

        <!-- Q9 & Q10 Row -->
        <div class="content-block grid-wrapper">
             <!-- Q9 -->
             <div class="soal-item grid-item">
                <div class="font-bold mb-2 text-base">9. Cutting Wood</div>
                <div class="text-sm text-gray-600 mb-2">
                    A piece of wood is 5.0 m long. 1.2 m is cut off, then another 1.5 m is cut off.
                    How much is left?
                </div>
                <div class="visual-box py-4 bg-white/50">
                    <div class="bar-container">
                        <div class="bar-part bg-red opacity-50" style="width: 24%;">1.2</div>
                        <div class="bar-part bg-orange opacity-50" style="width: 30%;">1.5</div>
                        <div class="bar-part bg-green" style="width: 46%;">?</div>
                    </div>
                    <div class="brace-label">
                        <div class="brace-visual"></div>
                        <div class="total-text text-xs">Total 5.0</div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 2.3 m</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.8 m</label>
                </div>
            </div>

            <!-- Q10 -->
             <div class="soal-item grid-item bg-purple-50 border-purple-200">
                <div class="font-bold mb-2 text-base text-purple-900">10. Short of Money</div>
                <div class="text-sm text-purple-800 mb-2">
                    Toy price is <b>Rp 5.50</b>. My money is only <b>Rp 3.75</b>.
                    How much more is needed?
                </div>
                <div class="visual-box py-4 bg-white/50 border-purple-100">
                     <div class="stacked-bar-container">
                        <div class="stacked-row">
                            <div class="bar-label">Price</div>
                            <div class="bar-fill bg-purple w-[90%] rounded-r">5.50</div>
                        </div>
                        <div class="stacked-row">
                            <div class="bar-label">Money</div>
                            <div class="bar-fill bg-green w-[60%]">3.75</div>
                            <div class="diff-gap">Short?</div>
                        </div>
                    </div>
                </div>
                <div class="choice-container justify-center">
                    <label class="choice-item"><div class="choice-box"></div> 1.75</label>
                    <label class="choice-item"><div class="choice-box"></div> 2.25</label>
                </div>
            </div>
        </div>

        <!-- --- End Editing Content --- -->

    </div> 
    
    <!-- 2. OUTPUT CONTAINER (Auto-Generated) -->
    <div id="output-container"></div>

    <!-- 3. LOGIC SCRIPT -->
    <script>
      // --- KONFIGURASI HEADER ---
      // Edit bagian ini untuk setiap worksheet baru
      const SHEET_CONFIG = {
        level: "Exploration 4",
        topic: "Four Operations of Decimals",
        skill: "Decimal Subtraction Word Problems",
        code: "E4-S343"
      };

      // Jalankan saat DOM siap
      document.addEventListener("DOMContentLoaded", function() {
        setTimeout(paginateContent, 100);
      });

      function paginateContent() {
        const rawContent = document.getElementById('raw-content');
        const items = Array.from(rawContent.children);
        const output = document.getElementById('output-container');
        
        let currentPage = createNewPage();
        let contentContainer = currentPage.querySelector('.page-content');

        items.forEach((item, index) => {
          // Clone item
          const clone = item.cloneNode(true);
          
          // 1. Cek Manual Break (class="force-break")
          if (clone.classList.contains('force-break') && contentContainer.children.length > 0) {
              currentPage = createNewPage();
              contentContainer = currentPage.querySelector('.page-content');
          }

          // 2. Masukkan item sementara
          contentContainer.appendChild(clone);
          
          // 3. Deteksi Overflow Otomatis
          // 5px buffer
          if (currentPage.scrollHeight > currentPage.clientHeight + 5) {
             // Undo append
             contentContainer.removeChild(clone);
             
             // Buat page baru
             currentPage = createNewPage();
             contentContainer = currentPage.querySelector('.page-content');
             
             // Append ulang
             contentContainer.appendChild(clone);
          }
        });

        // Helper: Buat Struktur Halaman A4
        function createNewPage() {
          const page = document.createElement('div');
          page.className = 'page';
          
          page.innerHTML = `
            <header class="page-header">
                <div class="math-champs-header">
                    <img src="https://imgix3.ruangguru.com/assets/miscellaneous/png_9hfnff_6419.png" alt="Math Champs" class="header-logo">
                    <div class="header-right">
                        <div class="header-level">${SHEET_CONFIG.level}</div>
                        <div class="header-topic">${SHEET_CONFIG.topic}</div>
                        <div class="header-skill">${SHEET_CONFIG.skill}</div>
                        <div class="header-code">${SHEET_CONFIG.code}</div>
                    </div>
                </div>
            </header>
            <div class="page-content"></div>
            <footer class="page-footer">
                <b>Copyright â’¸ 2025 - PT Ruang Raya Indonesia - All Rights Reserved.</b>
                <i class="block sm:inline">Dilarang menyebarluaskan dokumen ini tanpa seizin PT Ruang Raya Indonesia.</i>
            </footer>
          `;
          
          output.appendChild(page);
          return page;
        }
      }
    </script>
  </body>
</html>
